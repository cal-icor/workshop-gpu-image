name: notebook
channels:
  - conda-forge

dependencies:
  # 1. Pin CUDA to match your PyTorch pip wheels (12.4)
  - cuda-version=12.4
  - cuda-toolkit
  
  # 2. Add build tools needed for llama-cpp-python
  - cmake
  - ninja
  
  # 3. Conda C/C++ compilers
  - gcc_linux-64
  - gxx_linux-64
  - pip
  - pip:
      - --extra-index-url https://download.pytorch.org/whl/cu124
      - torch
      - torchvision
      - torchaudio
      - transformers==4.46.3
      - openai>=1.0
      - anthropic>=0.8
      - python-dotenv
      - langchain>=0.1
      - sentence-transformers==3.4.1
      - otter-grader==6.1.6
      - huggingface_hub
      - docutils<0.20